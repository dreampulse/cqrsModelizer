{"version":3,"file":"cqrs3.js","sourceRoot":"","sources":["cqrs3.ts"],"names":["EventProvider","EventProvider.constructor","EventProvider.handle","EventProvider.emit","EventHandler","EventHandler.constructor","StoredEventProvider","StoredEventProvider.constructor","StoredEventProvider.emit","DomainEvent","DomainEvent.constructor","Command","Command.constructor","Aggregate","Aggregate.constructor","MongoProjection","MongoProjection.constructor","MongoProjection.query","Context","Context.constructor","Context.createCommand","Context.createDomainEvent"],"mappings":"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"}