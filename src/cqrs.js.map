{"version":3,"file":"cqrs.js","sourceRoot":"","sources":["cqrs.ts"],"names":["EventProvider","EventProvider.constructor","EventProvider.handle","EventProvider.emit","StatefulEventProvider","StatefulEventProvider.constructor","StatefulEventProvider.handle","StatefulEventProvider.emit","StatefulStoredEventProvider","StatefulStoredEventProvider.constructor","StatefulStoredEventProvider.emit","StatefulStoredEventProvider.emitQ","EventHandler","EventHandler.constructor","StatefulEventHandler","StatefulEventHandler.constructor","DomainEvent","DomainEvent.constructor","Command","Command.constructor","Aggregate","Aggregate.constructor","MongoProjection","MongoProjection.constructor","MongoProjection.query","Context","Context.constructor"],"mappings":"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"}